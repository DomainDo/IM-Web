{"remainingRequest":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\softwareDevelopment\\IM-Web\\src\\views\\admin\\schedule.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\softwareDevelopment\\IM-Web\\src\\views\\admin\\schedule.vue","mtime":1649740854611},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\babel.config.js","mtime":1649851550121},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649851454799},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\babel-loader\\lib\\index.js","mtime":1649851455045},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649851454799},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\vue-loader\\lib\\index.js","mtime":1649851455309}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'Schedule',\n  components: {},\n  data: function data() {\n    return {\n      dialogFormVisible: false,\n      dialogFormVisible1: false,\n      dialogFormVisible2: false,\n      value: new Date(),\n      yearMD: '',\n      scheduleData: [{\n        \"date\": \"周一\",\n        \"consultant\": \"\",\n        \"helper\": \"\",\n        \"consultant_list\": [],\n        \"helper_list\": []\n      }, {\n        \"date\": \"周二\",\n        \"consultant\": \"\",\n        \"helper\": \"\",\n        \"consultant_list\": [],\n        \"helper_list\": []\n      }, {\n        \"date\": \"周三\",\n        \"consultant\": \"\",\n        \"helper\": \"\",\n        \"consultant_list\": [],\n        \"helper_list\": []\n      }, {\n        \"date\": \"周四\",\n        \"consultant\": \"\",\n        \"helper\": \"\",\n        \"consultant_list\": [],\n        \"helper_list\": []\n      }, {\n        \"date\": \"周五\",\n        \"consultant\": \"\",\n        \"helper\": \"\",\n        \"consultant_list\": [],\n        \"helper_list\": []\n      }, {\n        \"date\": \"周六\",\n        \"consultant\": \"\",\n        \"helper\": \"\",\n        \"consultant_list\": [],\n        \"helper_list\": []\n      }, {\n        \"date\": \"周日\",\n        \"consultant\": \"\",\n        \"helper\": \"\",\n        \"consultant_list\": [],\n        \"helper_list\": []\n      }],\n      activeName: 'first',\n      tableConsultant: [],\n      tableHelper: [],\n      consultant_select: [],\n      helper_select: [],\n      consultant: '',\n      helper: '',\n      week_naw: ''\n    };\n  },\n  mounted: function mounted() {\n    this.getDateFunc();\n  },\n  methods: {\n    my_date_consultant: function my_date_consultant(v) {\n      var _this = this;\n\n      var week = new Date(v).getDay();\n      var weekString = '';\n\n      switch (week) {\n        case 0:\n          weekString = \"周日\";\n          break;\n\n        case 1:\n          weekString = \"周一\";\n          break;\n\n        case 2:\n          weekString = \"周二\";\n          break;\n\n        case 3:\n          weekString = \"周三\";\n          break;\n\n        case 4:\n          weekString = \"周四\";\n          break;\n\n        case 5:\n          weekString = \"周五\";\n          break;\n\n        case 6:\n          weekString = \"周六\";\n          break;\n\n        default:\n          break;\n      }\n\n      var len = this.scheduleData.length;\n      var res = \"\";\n\n      var _loop = function _loop(i) {\n        if (_this.scheduleData[i].date == weekString) {\n          _this.$http({\n            url: \"/admin/getWorkerList\",\n            method: \"post\",\n            crossdomain: true,\n            body: JSON.stringify({\n              \"schedule\": weekString,\n              \"role\": 1\n            })\n          }).then(function (res) {\n            // console.log(res.data);\n            _this.scheduleData[i].consultant_list = res.data.data;\n            _this.scheduleData[i].consultant = \"咨询师：\" + res.data.data.length; // console.log(this.scheduleData)\n          }).catch(function (err) {\n            console.log(err.data);\n          });\n\n          res = _this.scheduleData[i].consultant;\n          return \"break\";\n        }\n      };\n\n      for (var i = 0; i < len; i++) {\n        var _ret = _loop(i);\n\n        if (_ret === \"break\") break;\n      }\n\n      return res;\n    },\n    my_date_helper: function my_date_helper(v) {\n      var _this2 = this;\n\n      var week = new Date(v).getDay();\n      var weekString = '';\n\n      switch (week) {\n        case 0:\n          weekString = \"周日\";\n          break;\n\n        case 1:\n          weekString = \"周一\";\n          break;\n\n        case 2:\n          weekString = \"周二\";\n          break;\n\n        case 3:\n          weekString = \"周三\";\n          break;\n\n        case 4:\n          weekString = \"周四\";\n          break;\n\n        case 5:\n          weekString = \"周五\";\n          break;\n\n        case 6:\n          weekString = \"周六\";\n          break;\n\n        default:\n          break;\n      }\n\n      var len = this.scheduleData.length;\n      var res = \"\";\n\n      var _loop2 = function _loop2(i) {\n        if (_this2.scheduleData[i].date == weekString) {\n          _this2.$http({\n            url: \"/admin/getWorkerList\",\n            method: \"post\",\n            crossdomain: true,\n            body: JSON.stringify({\n              \"schedule\": weekString,\n              \"role\": 2\n            })\n          }).then(function (res) {\n            // console.log(res.data);\n            _this2.scheduleData[i].helper_list = res.data.data;\n            _this2.scheduleData[i].helper = \"督导：\" + res.data.data.length; // console.log(this.scheduleData)\n          }).catch(function (err) {\n            console.log(err.data);\n          });\n\n          res = _this2.scheduleData[i].helper;\n          return \"break\";\n        }\n      };\n\n      for (var i = 0; i < len; i++) {\n        var _ret2 = _loop2(i);\n\n        if (_ret2 === \"break\") break;\n      }\n\n      return res;\n    },\n    getDateFunc: function getDateFunc() {\n      var _this3 = this;\n\n      // const year = new Date().getFullYear()\n      var month = new Date().getMonth() + 1;\n      var day = new Date().getDate();\n      var week = new Date().getDay();\n      var weeks = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']; // console.log(week)\n\n      this.yearMD = (month >= 10 ? month : '0' + month) + '月' + (day >= 10 ? day : '0' + day) + '日' + weeks[week];\n      var weekes = ['周日', '周一', '周二', '周三', '周四', '周五', '周六'];\n      var len = this.scheduleData.length;\n      this.week_naw = weekes[week];\n\n      for (var i = 0; i < len; i++) {\n        if (this.scheduleData[i].date == weekes[week]) {\n          this.$http({\n            url: \"/admin/getWorkerList\",\n            method: \"post\",\n            crossdomain: true,\n            body: JSON.stringify({\n              \"schedule\": weekes[week],\n              \"role\": 1\n            })\n          }).then(function (res) {\n            // console.log(res.data);\n            _this3.tableConsultant = res.data.data;\n          }).catch(function (err) {\n            console.log(err.data);\n          });\n          this.$http({\n            url: \"/admin/getWorkerList\",\n            method: \"post\",\n            crossdomain: true,\n            body: JSON.stringify({\n              \"schedule\": weekes[week],\n              \"role\": 2\n            })\n          }).then(function (res) {\n            // console.log(res.data);\n            _this3.tableHelper = res.data.data;\n          }).catch(function (err) {\n            console.log(err.data);\n          }); // console.log(\"d\")\n          // console.log(this.tableHelper)\n        }\n      }\n    },\n    getDateFunc_upDate: function getDateFunc_upDate(data) {\n      // const year = new Date(data).getFullYear()\n      var month = new Date(data).getMonth() + 1;\n      var day = new Date(data).getDate();\n      var week = new Date(data).getDay();\n      var weeks = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']; // console.log(week)\n\n      this.yearMD = (month >= 10 ? month : '0' + month) + '月' + (day >= 10 ? day : '0' + day) + '日' + weeks[week];\n      var weekes = ['周日', '周一', '周二', '周三', '周四', '周五', '周六'];\n      var len = this.scheduleData.length;\n\n      for (var i = 0; i < len; i++) {\n        if (this.scheduleData[i].date == weekes[week]) {\n          this.tableConsultant = this.scheduleData[i].consultant_list;\n          this.tableHelper = this.scheduleData[i].helper_list;\n        }\n      }\n    },\n    allcalendar: function allcalendar(data) {\n      // this.dialogFormVisible=true\n      this.getDateFunc_upDate(data.day);\n      var week = new Date(data.day).getDay();\n      var weekes = ['周日', '周一', '周二', '周三', '周四', '周五', '周六'];\n      this.week_naw = weekes[week];\n      console.log(this.week_naw);\n    },\n    handleClick: function handleClick(tab, event) {\n      console.log(tab, event);\n    },\n    move: function move(row) {\n      console.log(row);\n    },\n    add_consultant: function add_consultant() {\n      var _this4 = this;\n\n      console.log(\"d1\");\n      console.log(this.week_naw);\n      this.dialogFormVisible1 = true;\n      this.$http({\n        url: \"/admin/getNotTodayWorker\",\n        method: \"post\",\n        crossdomain: true,\n        body: JSON.stringify({\n          \"schedule\": this.week_naw,\n          \"role\": \"0\"\n        })\n      }).then(function (res) {\n        console.log(res.data.data);\n        _this4.consultant_select = res.data.data;\n      }).catch(function (err) {\n        console.log(err.data);\n      });\n    },\n    commit_consultant: function commit_consultant() {\n      var _this5 = this;\n\n      console.log(this.consultant);\n      this.$http({\n        url: \"/admin/getWorker\",\n        method: \"post\",\n        crossdomain: true,\n        body: JSON.stringify({\n          \"id\": this.consultant\n        })\n      }).then(function (res) {\n        console.log(res.data.data);\n        var temp = res.data.data;\n\n        _this5.$http({\n          url: \"/admin/updateWorker\",\n          method: \"post\",\n          crossdomain: true,\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            \"username\": temp.username,\n            \"role\": temp.role,\n            \"trueName\": temp.trueName,\n            \"gender\": temp.gender,\n            \"age\": temp.age,\n            \"idNumber\": temp.idNumber,\n            \"phone\": temp.phone,\n            \"email\": temp.email,\n            \"password\": temp.password,\n            \"work\": temp.work,\n            \"title\": temp.title,\n            \"qualification\": temp.qualification,\n            \"qualificationId\": temp.qualificationId,\n            // \"consultant\":this.form_change.consultant,\n            \"bindID\": temp.bindID,\n            \"available\": temp.available,\n            \"id\": temp.id,\n            \"state\": temp.state,\n            \"level\": temp.level,\n            \"schedule\": temp.schedule + \",\" + _this5.week_naw\n          })\n        }).then(function (res) {\n          _this5.dialogFormVisible3 = false;\n          alert(\"修改成功\");\n\n          _this5.initData();\n        }).catch(function (err) {\n          console.log(err.data);\n        });\n      }).catch(function (err) {\n        console.log(err.data);\n      });\n    }\n  }\n};",{"version":3,"mappings":"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","names":["name","components","data","dialogFormVisible","dialogFormVisible1","dialogFormVisible2","value","yearMD","scheduleData","activeName","tableConsultant","tableHelper","consultant_select","helper_select","consultant","helper","week_naw","mounted","methods","my_date_consultant","v","weekString","i","url","method","crossdomain","body","then","catch","console","res","my_date_helper","getDateFunc","day","weeks","getDateFunc_upDate","allcalendar","handleClick","tab","event","move","row","add_consultant","commit_consultant","headers","alert"],"sourceRoot":"src/views/admin","sources":["schedule.vue"],"sourcesContent":["<template>\n  <div class=\"page\">\n    <div class=\"left\">\n      <el-calendar v-model=\"value\" class=\"calender\"\n                   :first-day-of-week=\"7\"\n      >\n        <template slot=\"dateCell\" slot-scope=\"{date, data}\">\n          <div @click=\"allcalendar(data)\">\n            <p style=\"text-align: left;margin: 0px\">{{ data.day.split('-').slice(2).join('-') }}</p>\n            <p style=\"font-size: 10px;margin: 0px;line-height: 20px\">\n              {{my_date_consultant(data.day)}}<br>\n              {{my_date_helper(data.day)}}\n            </p>\n          </div>\n        </template>\n      </el-calendar>\n    </div>\n    <div class=\"right\">\n      <div class=\"time_now\">\n        {{ this.yearMD }}\n      </div>\n      <div class=\"table\">\n        <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\n          <el-tab-pane label=\"咨询师\" name=\"first\">\n            <div class=\"table-1\">\n                <el-table\n                  :data=\"tableConsultant\"\n                  :row-style=\"{height:'50px'}\"\n                  :cell-style=\"{padding:'0px'}\"\n                  :show-header=\"false\"\n                >\n                  <el-table-column\n                    prop=\"trueName\"\n                    width=\"\"\n                    align=\"center\"\n                  />\n                  <el-table-column\n                    prop=\"gender\"\n                    width=\"\"\n                    align=\"center\"\n                  />\n                </el-table>\n            </div>\n\n          </el-tab-pane>\n          <el-tab-pane label=\"督导\" name=\"second\">\n            <div class=\"table-2\">\n              <el-table\n                :data=\"tableHelper\"\n                :row-style=\"{height:'50px'}\"\n                :cell-style=\"{padding:'0px'}\"\n                :show-header=\"false\"\n              >\n                <el-table-column\n                  prop=\"trueName\"\n                  width=\"\"\n                  align=\"center\"\n                />\n                <el-table-column\n                  prop=\"gender\"\n                  width=\"\"\n                  align=\"center\"\n                />\n              </el-table>\n            </div>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'Schedule',\n  components: {\n  },\n  data() {\n    return {\n      dialogFormVisible: false,\n      dialogFormVisible1: false,\n      dialogFormVisible2: false,\n      value: new Date(),\n      yearMD: '',\n      scheduleData: [\n        {\"date\":\"周一\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\n        {\"date\":\"周二\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\n        {\"date\":\"周三\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\n        {\"date\":\"周四\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\n        {\"date\":\"周五\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\n        {\"date\":\"周六\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\n        {\"date\":\"周日\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},],\n      activeName: 'first',\n      tableConsultant: [\n      ],\n      tableHelper: [\n      ],\n      consultant_select:[],\n      helper_select:[],\n      consultant:'',\n      helper:'',\n      week_naw:''\n    }\n  },\n  mounted() {\n    this.getDateFunc()\n  },\n  methods: {\n    my_date_consultant(v) {\n      var week=new Date(v).getDay();\n      var weekString=''\n      switch (week){\n        case 0:\n          weekString=\"周日\"\n          break\n        case 1:\n          weekString=\"周一\"\n          break\n        case 2:\n          weekString=\"周二\"\n          break\n        case 3:\n          weekString=\"周三\"\n          break\n        case 4:\n          weekString=\"周四\"\n          break\n        case 5:\n          weekString=\"周五\"\n          break\n        case 6:\n          weekString=\"周六\"\n          break\n        default:\n          break\n      }\n      let len = this.scheduleData.length\n      let res = \"\"\n      for(let i=0; i<len; i++){\n        if(this.scheduleData[i].date == weekString) {\n          this.$http({\n            url: \"/admin/getWorkerList\",\n            method: \"post\",\n            crossdomain: true,\n            body:JSON.stringify({\n              \"schedule\": weekString,\n              \"role\":1\n            })\n          }).then(res => {\n            // console.log(res.data);\n            this.scheduleData[i].consultant_list = res.data.data;\n            this.scheduleData[i].consultant=\"咨询师：\"+res.data.data.length;\n            // console.log(this.scheduleData)\n          }).catch(err => {\n            console.log(err.data)\n          });\n          res = this.scheduleData[i].consultant\n          break\n        }\n      }\n      return res\n    },\n    my_date_helper(v) {\n      var week=new Date(v).getDay();\n      var weekString=''\n      switch (week){\n        case 0:\n          weekString=\"周日\"\n          break\n        case 1:\n          weekString=\"周一\"\n          break\n        case 2:\n          weekString=\"周二\"\n          break\n        case 3:\n          weekString=\"周三\"\n          break\n        case 4:\n          weekString=\"周四\"\n          break\n        case 5:\n          weekString=\"周五\"\n          break\n        case 6:\n          weekString=\"周六\"\n          break\n        default:\n          break\n      }\n      let len = this.scheduleData.length\n      let res = \"\"\n      for(let i=0; i<len; i++){\n        if(this.scheduleData[i].date == weekString) {\n          this.$http({\n            url: \"/admin/getWorkerList\",\n            method: \"post\",\n            crossdomain: true,\n            body:JSON.stringify({\n              \"schedule\": weekString,\n              \"role\":2\n            })\n          }).then(res => {\n            // console.log(res.data);\n            this.scheduleData[i].helper_list = res.data.data;\n            this.scheduleData[i].helper=\"督导：\"+res.data.data.length;\n            // console.log(this.scheduleData)\n          }).catch(err => {\n            console.log(err.data)\n          });\n          res = this.scheduleData[i].helper\n          break\n        }\n      }\n      return res\n    },\n    getDateFunc() {\n      // const year = new Date().getFullYear()\n      var month = new Date().getMonth() + 1\n      var day = new Date().getDate()\n      var week = new Date().getDay()\n      var weeks = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\n      // console.log(week)\n      this.yearMD =\n        (month >= 10 ? month : '0' + month) +\n        '月' +\n        (day >= 10 ? day : '0' + day) +\n        '日' +\n        weeks[week]\n      var weekes = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\n      let len = this.scheduleData.length\n      this.week_naw=weekes[week]\n      for(let i=0; i<len; i++){\n        if(this.scheduleData[i].date == weekes[week]) {\n          this.$http({\n            url: \"/admin/getWorkerList\",\n            method: \"post\",\n            crossdomain: true,\n            body:JSON.stringify({\n              \"schedule\": weekes[week],\n              \"role\":1\n            })\n          }).then(res => {\n            // console.log(res.data);\n            this.tableConsultant=res.data.data\n          }).catch(err => {\n            console.log(err.data)\n          });\n          this.$http({\n            url: \"/admin/getWorkerList\",\n            method: \"post\",\n            crossdomain: true,\n            body:JSON.stringify({\n              \"schedule\": weekes[week],\n              \"role\":2\n            })\n          }).then(res => {\n            // console.log(res.data);\n            this.tableHelper=res.data.data\n          }).catch(err => {\n            console.log(err.data)\n          });\n          // console.log(\"d\")\n          // console.log(this.tableHelper)\n        }\n      }\n    },\n    getDateFunc_upDate(data) {\n      // const year = new Date(data).getFullYear()\n      var month = new Date(data).getMonth() + 1\n      var day = new Date(data).getDate()\n      var week = new Date(data).getDay()\n      var weeks = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\n      // console.log(week)\n      this.yearMD =\n        (month >= 10 ? month : '0' + month) +\n        '月' +\n        (day >= 10 ? day : '0' + day) +\n        '日' +\n        weeks[week]\n      var weekes = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\n      let len = this.scheduleData.length\n      for(let i=0; i<len; i++){\n        if(this.scheduleData[i].date == weekes[week]) {\n          this.tableConsultant=this.scheduleData[i].consultant_list\n          this.tableHelper=this.scheduleData[i].helper_list\n        }\n      }\n    },\n    allcalendar(data) {\n      // this.dialogFormVisible=true\n      this.getDateFunc_upDate(data.day)\n      var week = new Date(data.day).getDay()\n      var weekes = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\n      this.week_naw=weekes[week]\n      console.log(this.week_naw)\n\n    },\n    handleClick(tab, event) {\n      console.log(tab, event);\n    },\n    move(row){\n        console.log(row)\n    },\n    add_consultant() {\n      console.log(\"d1\")\n      console.log(this.week_naw)\n      this.dialogFormVisible1=true;\n      this.$http({\n        url: \"/admin/getNotTodayWorker\",\n        method: \"post\",\n        crossdomain: true,\n        body:JSON.stringify({\n          \"schedule\": this.week_naw,\n          \"role\":\"0\"\n        })\n      }).then(res => {\n        console.log(res.data.data)\n        this.consultant_select=res.data.data\n      }).catch(err => {\n        console.log(err.data)\n      });\n    },\n    commit_consultant(){\n      console.log(this.consultant)\n      this.$http({\n        url: \"/admin/getWorker\",\n        method: \"post\",\n        crossdomain: true,\n        body:JSON.stringify({\n          \"id\":this.consultant\n        })\n      }).then(res => {\n        console.log(res.data.data)\n        var temp=res.data.data\n        this.$http({\n          url: \"/admin/updateWorker\",\n          method: \"post\",\n          crossdomain: true,\n          headers: {'Content-Type': 'application/json'},\n          body:JSON.stringify({\n            \"username\": temp.username,\n            \"role\": temp.role,\n            \"trueName\": temp.trueName,\n            \"gender\":temp.gender,\n            \"age\":temp.age,\n            \"idNumber\":temp.idNumber,\n            \"phone\":temp.phone,\n            \"email\":temp.email,\n            \"password\":temp.password,\n            \"work\":temp.work,\n            \"title\":temp.title,\n            \"qualification\":temp.qualification,\n            \"qualificationId\":temp.qualificationId,\n            // \"consultant\":this.form_change.consultant,\n            \"bindID\":temp.bindID,\n            \"available\":temp.available,\n            \"id\":temp.id,\n            \"state\":temp.state,\n            \"level\":temp.level,\n            \"schedule\":temp.schedule+\",\"+this.week_naw\n          })\n        }).then(res => {\n          this.dialogFormVisible3=false\n          alert(\"修改成功\")\n          this.initData();\n        }).catch(err => {\n          console.log(err.data)\n        });\n      }).catch(err => {\n        console.log(err.data)\n      });\n    }\n\n  },\n\n}\n</script>\n\n<style lang=\"scss\">\n@import '~@fullcalendar/core/main.css';\n@import '~@fullcalendar/daygrid/main.css';\n@import '~@fullcalendar/timegrid/main.css';\n.page{\n  position: relative;\n  width: 100%;\n  height: 96%;\n  text-align: center;\n  .left{\n    width: 76%;\n    position: absolute;\n    left: 20px;\n    top: 20px;\n    height: 97%;\n    overflow: auto;\n    .calender{\n      width: 100%;\n      height: 100%;\n      font-size: 20px;\n    }\n  }\n  .right{\n    position: absolute;\n    background-color: white;\n    width: 20%;\n    right: 0px;\n    top: 20px;\n    height: 97%;\n    overflow: auto;\n    .time_now{\n      width: 100%;\n      font-size: 1.5em;\n      padding: 20px;\n      border-bottom: rgba(0,0,0,0.2) 1px solid;\n    }\n    .table{\n      overflow: auto;\n      text-align: center;\n      .el-tabs__item{\n        font-size:20px !important;\n        padding: 10px;\n        padding-left: 60px;\n        margin-bottom: 20px;\n        text-align: center;\n      }\n    }\n  }\n}\n\n</style>\n"]}]}