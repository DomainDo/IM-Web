{"remainingRequest":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\project\\softwareDevelopment\\IM-Web\\src\\store\\modules\\friend.js","dependencies":[{"path":"D:\\project\\softwareDevelopment\\IM-Web\\src\\store\\modules\\friend.js","mtime":1649851412197},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\babel.config.js","mtime":1649851412081},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649851454799},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\babel-loader\\lib\\index.js","mtime":1649851455045},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\eslint-loader\\index.js","mtime":1649851454239}],"contextDependencies":[],"result":["import _toConsumableArray from \"D:/project/softwareDevelopment/IM-Web/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport TIM from 'tim-js-sdk/tim-js-friendship';\nvar friendModules = {\n  state: {\n    friendList: [],\n    applicationList: [],\n    unreadCount: 0,\n    createGroupModelVisible: false,\n    friendGroupList: [],\n    currentMemberList: [],\n    friendContent: {},\n    applicationContent: {}\n  },\n  mutations: {\n    updateFriendList: function updateFriendList(state, friendList) {\n      state.friendList = friendList;\n    },\n    updateUnreadCount: function updateUnreadCount(state, unreadCount) {\n      state.unreadCount = unreadCount;\n    },\n    updateFriendGroupList: function updateFriendGroupList(state, friendGroupList) {\n      state.friendGroupList = friendGroupList;\n    },\n    updateApplicationList: function updateApplicationList(state, applicationList) {\n      state.applicationList = applicationList;\n    },\n    updateFriendContent: function updateFriendContent(state, friendContent) {\n      state.friendContent = friendContent;\n    },\n    updateApplicationContent: function updateApplicationContent(state, applicationContent) {\n      state.applicationContent = applicationContent;\n    },\n    resetApplicationContent: function resetApplicationContent(state) {\n      state.applicationContent = {};\n    },\n    resetFriendContent: function resetFriendContent(state) {\n      state.friendContent = {};\n    },\n    deleteApplicationList: function deleteApplicationList(state, applicationInfo) {\n      var to = applicationInfo.to,\n          applicationType = applicationInfo.applicationType;\n\n      if (applicationType === TIM.TYPES.APPLICATION_TYPE_COMEIN) {\n        state.comeInApplicationList = state.comeInApplicationList.filter(function (item) {\n          return item.to !== to;\n        });\n      }\n\n      if (applicationType === TIM.TYPES.APPLICATION_TYPE_SENDOUT) {\n        state.sendOutApplicationList = state.sendOutApplicationList.filter(function (item) {\n          return item.to !== to;\n        });\n      }\n    },\n    deleteFriend: function deleteFriend(state, userID) {\n      state.friendList = state.friendList.filter(function (item) {\n        return item.userID !== userID;\n      });\n    },\n    // 删除好友分组\n    deleteFriendGroupList: function deleteFriendGroupList(state, groupNameList) {\n      state.friendGroupList = state.friendGroupList.filter(function (groupItem) {\n        return !groupNameList.includes(groupItem.groupName);\n      });\n    },\n    // 增加好友分组\n    addFriendGroupList: function addFriendGroupList(state, friendGroup) {\n      state.friendGroupList = [].concat(_toConsumableArray(state.friendGroupList), _toConsumableArray(friendGroup));\n    },\n    // 更新分组信息\n    updateFriendGroupInfo: function updateFriendGroupInfo(state, groupInfo) {\n      state.friendGroupList = state.friendGroupList.map(function (groupItem) {\n        return groupItem.groupName === groupInfo.groupName ? groupInfo : groupItem;\n      });\n    },\n    reset: function reset(state) {\n      Object.assign(state, {\n        friendGroupList: [],\n        friendList: [],\n        applicationList: [],\n        createGroupModelVisible: false\n      });\n    }\n  },\n  actions: {\n    setFriendContent: function setFriendContent(context, friendContent) {\n      context.commit('resetCurrentConversation');\n      context.commit('resetApplicationContent');\n      context.commit('updateFriendContent', friendContent);\n    },\n    setApplicationContent: function setApplicationContent(context, applicationContent) {\n      context.commit('resetCurrentConversation');\n      context.commit('resetFriendContent');\n      context.commit('updateApplicationContent', applicationContent);\n    }\n  }\n};\nexport default friendModules;",{"version":3,"sources":["D:/project/softwareDevelopment/IM-Web/src/store/modules/friend.js"],"names":["TIM","friendModules","state","friendList","applicationList","unreadCount","createGroupModelVisible","friendGroupList","currentMemberList","friendContent","applicationContent","mutations","updateFriendList","updateUnreadCount","updateFriendGroupList","updateApplicationList","updateFriendContent","updateApplicationContent","resetApplicationContent","resetFriendContent","deleteApplicationList","applicationInfo","to","applicationType","TYPES","APPLICATION_TYPE_COMEIN","comeInApplicationList","filter","item","APPLICATION_TYPE_SENDOUT","sendOutApplicationList","deleteFriend","userID","deleteFriendGroupList","groupNameList","groupItem","includes","groupName","addFriendGroupList","friendGroup","updateFriendGroupInfo","groupInfo","map","reset","Object","assign","actions","setFriendContent","context","commit","setApplicationContent"],"mappings":"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","sourcesContent":["import TIM from 'tim-js-sdk/tim-js-friendship'\r\nconst friendModules = {\r\n  state: {\r\n    friendList: [],\r\n    applicationList: [],\r\n    unreadCount: 0,\r\n    createGroupModelVisible: false,\r\n    friendGroupList: [],\r\n    currentMemberList: [],\r\n    friendContent: {},\r\n    applicationContent: {},\r\n    },\r\n  mutations: {\r\n    updateFriendList(state, friendList) {\r\n      state.friendList = friendList\r\n    },\r\n    updateUnreadCount(state, unreadCount) {\r\n      state.unreadCount = unreadCount\r\n    },\r\n    updateFriendGroupList(state, friendGroupList) {\r\n      state.friendGroupList = friendGroupList\r\n    },\r\n    updateApplicationList(state, applicationList) {\r\n      state.applicationList = applicationList\r\n    },\r\n    updateFriendContent(state, friendContent) {\r\n      state.friendContent = friendContent\r\n    },\r\n    updateApplicationContent(state, applicationContent) {\r\n      state.applicationContent = applicationContent\r\n    },\r\n    resetApplicationContent(state) {\r\n      state.applicationContent = {}\r\n    },\r\n    resetFriendContent(state) {\r\n      state.friendContent = {}\r\n    },\r\n    deleteApplicationList(state, applicationInfo) {\r\n      const { to, applicationType } = applicationInfo\r\n      if (applicationType === TIM.TYPES.APPLICATION_TYPE_COMEIN) {\r\n        state.comeInApplicationList = state.comeInApplicationList.filter(item => item.to !== to)\r\n      }\r\n      if (applicationType === TIM.TYPES.APPLICATION_TYPE_SENDOUT) {\r\n        state.sendOutApplicationList = state.sendOutApplicationList.filter(item => item.to !== to)\r\n      }\r\n    },\r\n    deleteFriend(state, userID) {\r\n      state.friendList = state.friendList.filter(item => item.userID !== userID)\r\n    },\r\n    // 删除好友分组\r\n    deleteFriendGroupList(state, groupNameList) {\r\n      state.friendGroupList = state.friendGroupList.filter((groupItem) => !groupNameList.includes(groupItem.groupName))\r\n    },\r\n    // 增加好友分组\r\n    addFriendGroupList(state, friendGroup) {\r\n      state.friendGroupList = [...state.friendGroupList, ...friendGroup]\r\n    },\r\n    // 更新分组信息\r\n    updateFriendGroupInfo(state, groupInfo) {\r\n      state.friendGroupList = state.friendGroupList.map( groupItem=> {\r\n        return groupItem.groupName === groupInfo.groupName ? groupInfo : groupItem\r\n      })\r\n\r\n    },\r\n    reset(state) {\r\n      Object.assign(state, {\r\n        friendGroupList: [],\r\n        friendList: [],\r\n        applicationList: [],\r\n        createGroupModelVisible: false\r\n      })\r\n    }\r\n  },\r\n  actions: {\r\n    setFriendContent(context, friendContent) {\r\n      context.commit('resetCurrentConversation')\r\n      context.commit('resetApplicationContent')\r\n      context.commit('updateFriendContent', friendContent)\r\n    },\r\n    setApplicationContent(context, applicationContent) {\r\n      context.commit('resetCurrentConversation')\r\n      context.commit('resetFriendContent')\r\n      context.commit('updateApplicationContent', applicationContent)\r\n\r\n    },\r\n  }\r\n}\r\n\r\nexport default friendModules\r\n"]}]}