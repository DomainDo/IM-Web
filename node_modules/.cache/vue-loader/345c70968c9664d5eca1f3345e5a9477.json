{"remainingRequest":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\softwareDevelopment\\IM-Web\\src\\components\\group-live\\components\\live-header.vue?vue&type=style&index=0&id=318cab2c&lang=stylus&scoped=true&","dependencies":[{"path":"D:\\project\\softwareDevelopment\\IM-Web\\src\\components\\group-live\\components\\live-header.vue","mtime":1649851412188},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\css-loader\\index.js","mtime":1649851454163},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1649851455885},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\postcss-loader\\src\\index.js","mtime":1649851455029},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\stylus-loader\\index.js","mtime":1649851453855},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649851454799},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\vue-loader\\lib\\index.js","mtime":1649851455309}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.header-container {\n  position absolute\n  left 0\n  top 0\n  width 100%\n  height 100%\n  box-sizing border-box\n  z-index 99\n  padding 10px 10px 10px 20px\n .anchor-info {\n   position absolute\n   top 50%\n   transform translateY(-50%)\n   width 200px\n   height 50px\n   background rgba(255, 255 ,255 ,0.1)\n   border-radius 30px\n   display flex\n   align-items center\n   .anchor-avatar {\n     width 50px\n     height 50px\n     border-radius 50%\n     margin 0 5px\n   }\n   .anchor-other {\n     height 100%\n     flex 1\n     p {\n       margin 0\n     }\n     .anchor-nick{\n       max-width 140px\n       margin 6px 0 0 0\n       color: #ffffff\n       font-weight 500\n       word-break keep-all\n       overflow hidden\n       text-overflow ellipsis\n       white-space nowrap\n     }\n     .online-num{\n       font-size 14px\n       font-weight 400\n       color #d2cbcbad\n     }\n   }\n }\n .online-info {\n   position absolute\n   left 50%\n   top 50%\n   transform translate(-50%, -50%)\n   height 50px\n   color #fff\n   display flex\n   align-items center\n   .room-name{\n     display inline-block\n     max-width 160px\n     overflow hidden\n     white-space nowrap\n     text-overflow ellipsis\n     margin 0\n     padding 0 0 0 10px\n   }\n   .living-icon{\n     position relative\n     top -3px\n     margin 0 5px\n     width 25px\n   }\n   span {\n     margin 2px 0 0 0\n   }\n }\n .close-box {\n   position absolute\n   right 0\n   top 0px\n   width 70px\n   height 70px\n   color: #959798\n   font-size 36px\n   cursor pointer\n   display flex\n   align-items center\n   justify-content center\n }\n}\n",{"version":3,"sources":["live-header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"live-header.vue","sourceRoot":"src/components/group-live/components","sourcesContent":["<template>\r\n  <div class=\"header-container\">\r\n    <div v-show=\"showLiveInfo\">\r\n      <div class=\"anchor-info\">\r\n        <img class=\"anchor-avatar\" :src=\"avatar\">\r\n        <div class=\"anchor-other\">\r\n          <p class=\"anchor-nick\">{{nick}}</p>\r\n          <p class=\"online-num\">在线：{{onlineMemberCount}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"online-info\">\r\n        <p class=\"room-name\">直播中</p>\r\n        <img class=\"living-icon\" src=\"../../../assets/image/living-icon.gif\" />\r\n        <span>{{` ${pusherTime}`}}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"close-box\" @click=\"closeLiveMask\">\r\n      <i class=\"el-icon-circle-close\"></i>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n import { mapState } from 'vuex'\r\n  export default {\r\n    name: 'liveHeader',\r\n    props: {\r\n      fr: {\r\n        type: String,\r\n        requred: true\r\n      },\r\n      isPushingStream: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      stopPushStream: {\r\n        type: Function\r\n      },\r\n      pusherTime: {\r\n        type: String,\r\n        default: ''\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        nick: '',\r\n        avatar: 'https://imgcache.qq.com/open/qcloud/video/act/webim-avatar/avatar-2.png',\r\n        onlineMemberCount: 0,\r\n        timer: null,\r\n        onlineList: []\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        groupLiveInfo: state => state.groupLive.groupLiveInfo\r\n      }),\r\n      showLiveInfo() {\r\n        return (this.fr === 'pusher' && this.isPushingStream) || this.fr === 'player'\r\n      },\r\n      roomName() {\r\n        return this.groupLiveInfo.roomName || `${this.groupLiveInfo.anchorID}的直播`\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getAnchorProfile()\r\n      if (this.fr === 'player') {\r\n        this.timer = setInterval(() => {\r\n          this.getGroupOnlineMemberCount()\r\n        }, 5000)\r\n      }\r\n    },\r\n    beforeDestroy() {\r\n      this.timer && clearInterval(this.timer)\r\n    },\r\n    methods: {\r\n      closeLiveMask() {\r\n        if (this.fr === 'pusher') {\r\n          this.stopPushStream()\r\n          return\r\n        }\r\n        this.$store.commit('updateGroupLiveInfo', { isNeededQuitRoom: 1 })\r\n        this.$bus.$emit('close-group-live')\r\n      },\r\n      async getAnchorProfile() {\r\n        const res = await this.tim.getUserProfile({userIDList: [this.groupLiveInfo.anchorID]})\r\n        if (res.code === 0) {\r\n          this.nick = res.data[0].nick || res.data[0].userID\r\n          this.avatar = res.data[0].avatar || 'https://imgcache.qq.com/open/qcloud/video/act/webim-avatar/avatar-2.png'\r\n        }\r\n      },\r\n      async getGroupOnlineMemberCount() {\r\n        const res = await this.tim.getGroupOnlineMemberCount(this.groupLiveInfo.roomID)\r\n        if (res.code === 0 && res.data) {\r\n          this.onlineMemberCount = res.data.memberCount\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      isPushingStream: function(val) {\r\n        if (val && this.fr === 'pusher') {\r\n          this.timer = setInterval(() => {\r\n            this.getGroupOnlineMemberCount()\r\n          }, 5000)\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n .header-container {\r\n   position absolute\r\n   left 0\r\n   top 0\r\n   width 100%\r\n   height 100%\r\n   box-sizing border-box\r\n   z-index 99\r\n   padding 10px 10px 10px 20px\r\n  .anchor-info {\r\n    position absolute\r\n    top 50%\r\n    transform translateY(-50%)\r\n    width 200px\r\n    height 50px\r\n    background rgba(255, 255 ,255 ,0.1)\r\n    border-radius 30px\r\n    display flex\r\n    align-items center\r\n    .anchor-avatar {\r\n      width 50px\r\n      height 50px\r\n      border-radius 50%\r\n      margin 0 5px\r\n    }\r\n    .anchor-other {\r\n      height 100%\r\n      flex 1\r\n      p {\r\n        margin 0\r\n      }\r\n      .anchor-nick{\r\n        max-width 140px\r\n        margin 6px 0 0 0\r\n        color: #ffffff\r\n        font-weight 500\r\n        word-break keep-all\r\n        overflow hidden\r\n        text-overflow ellipsis\r\n        white-space nowrap\r\n      }\r\n      .online-num{\r\n        font-size 14px\r\n        font-weight 400\r\n        color #d2cbcbad\r\n      }\r\n    }\r\n  }\r\n  .online-info {\r\n    position absolute\r\n    left 50%\r\n    top 50%\r\n    transform translate(-50%, -50%)\r\n    height 50px\r\n    color #fff\r\n    display flex\r\n    align-items center\r\n    .room-name{\r\n      display inline-block\r\n      max-width 160px\r\n      overflow hidden\r\n      white-space nowrap\r\n      text-overflow ellipsis\r\n      margin 0\r\n      padding 0 0 0 10px\r\n    }\r\n    .living-icon{\r\n      position relative\r\n      top -3px\r\n      margin 0 5px\r\n      width 25px\r\n    }\r\n    span {\r\n      margin 2px 0 0 0\r\n    }\r\n  }\r\n  .close-box {\r\n    position absolute\r\n    right 0\r\n    top 0px\r\n    width 70px\r\n    height 70px\r\n    color: #959798\r\n    font-size 36px\r\n    cursor pointer\r\n    display flex\r\n    align-items center\r\n    justify-content center\r\n  }\r\n }\r\n</style>\r\n"]}]}