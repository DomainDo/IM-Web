{"remainingRequest":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\softwareDevelopment\\IM-Web\\src\\views\\consultant\\record.vue?vue&type=style&index=0&id=e891158a&lang=scss&scoped=true&","dependencies":[{"path":"D:\\project\\softwareDevelopment\\IM-Web\\src\\views\\consultant\\record.vue","mtime":1649835335738},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\css-loader\\index.js","mtime":1649851454163},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1649851455885},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\postcss-loader\\src\\index.js","mtime":1649851455029},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1649851830636},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649851454799},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\vue-loader\\lib\\index.js","mtime":1649851455309}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\ninput[type=\"text\"],#btn1,#btn2{\r\n  box-sizing: border-box;\r\n  text-align:left;\r\n  font-size:1em;\r\n  height:2.5em;\r\n  border-radius:4px;\r\n  border:1px solid #c8cccf;\r\n  color:#6a6f77;\r\n  -web-kit-appearance:none;\r\n  -moz-appearance: none;\r\n  display:block;\r\n  outline:0;\r\n  padding:0 1em;\r\n  text-decoration:none;\r\n  width:20%;\r\n}\r\ninput[type=\"text\"]:focus{\r\n  border:1px solid #5498e5;\r\n}\r\n.page {\r\n  height: 95%;\r\n  position: relative;\r\n  margin-top: 20px;\r\n  .search{\r\n    margin-left: 1%;\r\n    text-align: left;\r\n    .item{\r\n      margin-top: 10px;\r\n      margin-bottom: 10px;\r\n      width: 250px;\r\n    }\r\n  }\r\n  .table{\r\n    width: 98%;\r\n    margin: 0 auto;\r\n    height: 88%;\r\n    .fy {\r\n      height: 10%;\r\n      position: absolute;\r\n      margin-top: 20px;\r\n      right: 10px;\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["record.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"record.vue","sourceRoot":"src/views/consultant","sourcesContent":["<template>\r\n  <div class=\"page\">\r\n    <div class=\"search\">\r\n      <div style=\"display: inline-block;width: 250px\">\r\n        搜索名字\r\n        <div class=\"item\">\r\n          <el-input v-model=\"name\" placeholder=\"请输入内容\" @input=\"seachRecord\" />\r\n        </div>\r\n      </div>\r\n      <div style=\"display: inline-block;margin-left: 30px\">\r\n        选择日期\r\n        <div class=\"item\">\r\n          <el-date-picker\r\n            v-model=\"time\"\r\n            type=\"date\"\r\n            placeholder=\"选择日期\"\r\n            value-format=\"“yyyy-MM-dd”\"\r\n            @change=\"seachRecord\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n    <el-dialog title=\"\" :visible.sync=\"dialogFormVisible2\">\r\n      <div style=\"font-size: 2em;margin-left: 20px;color: black\">详情信息</div>\r\n      <div style=\"margin-top: 20px;margin-left: 20px;font-size: 1.5em;line-height: 2em\">\r\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">访客:    {{form_detail.customerTrueName}}</div>\r\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">咨询师: {{form_detail.consultantTrueName}}</div>\r\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">求助督导: {{form_detail.helperTrueName}}</div>\r\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">评分: {{form_detail.level}}</div>\r\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">评语: {{form_detail.comment}}</div>\r\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">日期: {{form_detail.date}}</div>\r\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">开始时间: {{form_detail.startTime}}</div>\r\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">结束时间: {{form_detail.endTime}}</div>\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"dialogFormVisible2=false\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <div class=\"table\">\r\n      <el-table :data=\"tableData.slice((dictCurrentPage-1)*dictPageSize,dictCurrentPage*dictPageSize)\" style=\"overflow:auto;width:100%;\" height=\"90%\" :header-cell-style=\"headClass\">\r\n        <el-table-column prop=\"customerTrueName\" label=\"访客\" fixed />\r\n        <el-table-column prop=\"consultantTrueName\" label=\"咨询师\" />\r\n        <el-table-column prop=\"date\" label=\"日期\" />\r\n        <el-table-column prop=\"startTime\" label=\"开始时间\" />\r\n        <el-table-column prop=\"endTime\" label=\"结束时间\" />\r\n        <el-table-column prop=\"helperTrueName\" label=\"求助督导\" />\r\n        <el-table-column prop=\"level\" label=\"平均咨询等级\" :formatter=\"stateFormat\" width=\"120px\"/>\r\n        <el-table-column header-align=\"center\" align=\"center\" prop=\"operate\" label=\"操作\" width=\"200px\" fixed=\"right\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              size=\"small\"\r\n              style=\"background-color: #b1c0d0\"\r\n              @click=\"detail(scope.row)\"\r\n            >查看详情\r\n            </el-button>\r\n            <el-button\r\n              size=\"small\"\r\n              style=\"background-color: #b1c0d0\"\r\n              @click=\"ban(scope.row)\"\r\n            >导出记录\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        class=\"fy\"\r\n        layout=\"sizes, prev, pager, next, total\"\r\n        :current-page.sync=\"dictCurrentPage\"\r\n        :total=\"dictTotal\"\r\n        background\r\n        :page-sizes=\"[10, 20, 30, 40]\"\r\n        :page-size.sync=\"dictPageSize\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      dialogFormVisible2:false,\r\n      dictTotal: 0,\r\n      dictCurrentPage: 1,\r\n      dictPageSize: 10,\r\n      name: '',\r\n      time: '',\r\n      tableData: [],\r\n      form_detail: {\r\n        comment: '',\r\n        consultantTrueName:'',\r\n        customerTrueName:'',\r\n        date:'',\r\n        endTime:'',\r\n        helperTrueName:'',\r\n        level:'',\r\n        startTime:''\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initData()\r\n  },\r\n  methods: {\r\n    initData() {\r\n      // this.dictTotal = this.tableData.length\r\n      this.$http({\r\n        url: \"/record/getRecordList\",\r\n        method: \"post\",\r\n        crossdomain: true,\r\n        body:JSON.stringify({\r\n          \"consultantID\": this.$store.state.userid,\r\n        })\r\n      }).then(res => {\r\n        console.log(res.data.data);\r\n        this.dictTotal = res.data.data.length;\r\n        this.tableData=res.data.data\r\n      }).catch(err => {\r\n        console.log(err.data)\r\n      });\r\n    },\r\n    ban(row) {\r\n\r\n    },\r\n    stateFormat(row, column) {\r\n      if (row.level === 0) {\r\n        return ''\r\n      } else if (row.level === 1) {\r\n        return '⭐'\r\n      }else if (row.level === 2) {\r\n        return '⭐⭐'\r\n      } else if (row.level === 3) {\r\n        return '⭐⭐⭐'\r\n      }else if (row.level === 4) {\r\n        return '⭐⭐⭐⭐'\r\n      } else {\r\n        return '⭐⭐⭐⭐⭐'\r\n      }\r\n    },\r\n    detail(row) {\r\n      this.dialogFormVisible2=true\r\n      this.form_detail=row\r\n    },\r\n    // 设置表头颜色\r\n    headClass() {\r\n      return 'background:#e1e9f4;'\r\n    },\r\n    // 实时监听查询内容，更新列表\r\n    seachRecord() {\r\n      console.log('检测到变化' + this.name + this.time)\r\n      if(this.time==''||this.time==null){\r\n        this.$http({\r\n          url: \"/record/getRecordList\",\r\n          method: \"post\",\r\n          crossdomain: true,\r\n          body:JSON.stringify({\r\n            \"customerTrueName\": this.name,\r\n          })\r\n        }).then(res => {\r\n          console.log(res.data.data);\r\n          this.dictTotal = res.data.data.length;\r\n          this.tableData=res.data.data\r\n        }).catch(err => {\r\n          console.log(err.data)\r\n        });\r\n      }else {\r\n        var time_temp=this.time.slice(1,this.time.length-1)+\" 00:00:00\"\r\n        this.$http({\r\n          url: \"/record/getRecordList\",\r\n          method: \"post\",\r\n          crossdomain: true,\r\n          body:JSON.stringify({\r\n            \"customerTrueName\": this.name,\r\n            \"date\":time_temp\r\n          })\r\n        }).then(res => {\r\n          console.log(res.data.data);\r\n          this.dictTotal = res.data.data.length;\r\n          this.tableData=res.data.data\r\n        }).catch(err => {\r\n          console.log(err.data)\r\n        });\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\ninput[type=\"text\"],#btn1,#btn2{\r\n  box-sizing: border-box;\r\n  text-align:left;\r\n  font-size:1em;\r\n  height:2.5em;\r\n  border-radius:4px;\r\n  border:1px solid #c8cccf;\r\n  color:#6a6f77;\r\n  -web-kit-appearance:none;\r\n  -moz-appearance: none;\r\n  display:block;\r\n  outline:0;\r\n  padding:0 1em;\r\n  text-decoration:none;\r\n  width:20%;\r\n}\r\ninput[type=\"text\"]:focus{\r\n  border:1px solid #5498e5;\r\n}\r\n.page {\r\n  height: 95%;\r\n  position: relative;\r\n  margin-top: 20px;\r\n  .search{\r\n    margin-left: 1%;\r\n    text-align: left;\r\n    .item{\r\n      margin-top: 10px;\r\n      margin-bottom: 10px;\r\n      width: 250px;\r\n    }\r\n  }\r\n  .table{\r\n    width: 98%;\r\n    margin: 0 auto;\r\n    height: 88%;\r\n    .fy {\r\n      height: 10%;\r\n      position: absolute;\r\n      margin-top: 20px;\r\n      right: 10px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}